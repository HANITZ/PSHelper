(()=>{"use strict";var e={161:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81),r=n.n(o),i=n(645),a=n.n(i)()(r());a.push([e.id,'@media (min-width: 992px) {\n  .nav-small-timer {\n    display: none;\n  }\n}\n\n.result-container {\n  display: flex;\n  justify-content: center;\n}\n* {\n  border-radius: 0;\n}\n.loading-programmers {\n  width: 48px;\n  height: 48px;\n  border-radius: 50% !important;\n  display: inline-block;\n  position: relative;\n  background: linear-gradient(0deg, rgb(255, 255, 255) 33%, #afa8de 100%);\n  box-sizing: border-box;\n  animation: rotation 1s linear infinite;\n}\n\n.mark-programmers {\n  margin-right: 20px !important;\n}\n\n.loading-programmers::after {\n  content: "";\n  box-sizing: border-box;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  background: #ffffff;\n}\n@keyframes rotation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.success-solve {\n  display: inline-block;\n  transform: rotate(45deg);\n  width: 1.2em;\n  height: 2.3em;\n  border-bottom: 7px solid #afa8de;\n  border-right: 7px solid #afa8de;\n}\n\n.fail-solve {\n  background: #fff;\n  width: 50px;\n  height: 50px;\n  position: relative;\n}\n.fail-solve:after {\n  content: "";\n  height: 50px;\n  border-left: 10px solid #afa8de;\n  position: absolute;\n  transform: rotate(45deg);\n  left: 28px;\n}\n\n.fail-solve:before {\n  content: "";\n  height: 50px;\n  border-left: 10px solid #afa8de;\n  position: absolute;\n  transform: rotate(-45deg);\n  left: 28px;\n}\n',""]);const s=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],d=i[l]||0,p="".concat(l," ").concat(d);i[l]=d+1;var m=n(p),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(u);else{var f=r(u,o);o.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=o(e,r),l=0;l<i.length;l++){var d=n(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},609:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{const e=(e,t)=>{const n=t?t.querySelector(e):document.querySelector(e);if(!n)throw new Error(`${e} element를 찾을 수 없습니다`);return n},t=(e,t)=>{const n=t?t.querySelectorAll(e):document.querySelectorAll(e);if(!n)throw new Error(`${e} elements를 찾을 수 없습니다`);return Array.prototype.slice.call(n)},o=(e,t,n)=>{e.addEventListener(t,n)},r=({element:e,position:t,html:n})=>{e.insertAdjacentHTML(t,n)},i=(e,t)=>{let[n,o,r]=[0,0,0],i=Math.floor((t-e)/1e3);return i>3600&&(n=Math.floor(i/3600),i%=3600),i>60&&(o=Math.floor(i/60),i%=60),r=i,{h:n<10?"0"+n.toString():n.toString(),m:o<10?"0"+o.toString():o.toString(),s:r<10?"0"+r.toString():r.toString()}};const a=e=>{var t=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,[]);return chrome.storage.local.set(Object.assign({},t))},s=e=>chrome.storage.local.get([e]);var c=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},l=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};const d=(e,t,n)=>l(void 0,void 0,void 0,(function*(){const{USER:o}=yield s("USER"),{repoName:r}=yield s("repoName"),{GITHUB_TOKEN:i}=yield s("GITHUB_TOKEN"),a=`${n}/${t}`;if(!i)throw new Error("Token 정보를 가져오지 못했습니다.");const c=`https://api.github.com/repos/${o}/${r}/git/blobs`,l=JSON.stringify({content:(d=e,btoa(encodeURIComponent(d).replace(/%([0-9=A-F]{2})/g,(function(e,t){return String.fromCharCode(Number(`0x${t}`))})))),encoding:"base64"});var d;return{path:a,sha:(yield(yield fetch(c,{method:"post",headers:{"content-type":"application/json",Accept:"application/vnd.github.v3+json",Authorization:`token ${i}`},body:l})).json()).sha,mode:"100644",type:"blob"}})),p=(e,t)=>l(void 0,void 0,void 0,(function*(){const{USER:n}=yield s("USER"),{repoName:o}=yield s("repoName"),{GITHUB_TOKEN:r}=yield s("GITHUB_TOKEN"),i=`https://api.github.com/repos/${n}/${o}/git/trees`,a=JSON.stringify({tree:t,base_tree:e});return(yield(yield fetch(i,{method:"post",headers:{"content-type":"application/json",Accept:"application/vnd.github.v3+json",Authorization:`token ${r}`},body:a})).json()).sha})),m=(e,t,n)=>l(void 0,void 0,void 0,(function*(){const{USER:o}=yield s("USER"),{repoName:r}=yield s("repoName"),{GITHUB_TOKEN:i}=yield s("GITHUB_TOKEN"),a=`https://api.github.com/repos/${o}/${r}/git/commits`,c=JSON.stringify({message:e,tree:t,parent:[n]});return(yield(yield fetch(a,{method:"post",headers:{"content-type":"application/json",Accept:"application/vnd.github.v3+json",Authorization:`token ${i}`},body:c})).json()).sha})),u=(e,t,n=!0)=>l(void 0,void 0,void 0,(function*(){const{USER:e}=yield s("USER"),{repoName:o}=yield s("repoName"),{GITHUB_TOKEN:r}=yield s("GITHUB_TOKEN"),i=`https://api.github.com/repos/${e}/${o}/git/refs/heads/main`,a=JSON.stringify({sha:t,force:n});return yield(yield fetch(i,{method:"PATCH",headers:{Authorization:`token ${r}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:a})).json()}));var f=n(379),h=n.n(f),v=n(795),g=n.n(v),y=n(569),b=n.n(y),T=n(565),x=n.n(T),w=n(609),S=n.n(w),$=n(589),E=n.n($),N=n(161),A={};A.styleTagTransform=E(),A.setAttributes=x(),A.insert=b().bind(null,"head"),A.domAPI=g(),A.insertStyleElement=S(),h()(N.Z,A),N.Z&&N.Z.locals&&N.Z.locals;var M=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))};const O=new class{constructor(){this.init=()=>M(this,void 0,void 0,(function*(){const{repoName:e}=yield s("repoName");if(!e)throw new Error("Repository가 아직 설정되지 않았습니다.")})),this.setProgrammersTimer=()=>{this.setTimerLargeTemplate(),this.setTimerSmallTemplate(),this.setTimer()},this.setTimer=()=>M(this,void 0,void 0,(function*(){const e=(new Date).getTime();a({ProgrammersTime:e}),this.timer=((e,t)=>setInterval((()=>{const n=(new Date).getTime(),{h:o,m:r,s:a}=i(e,n);t({h:o,m:r,s:a})})))(e,this.reRenderTime)})),this.reRenderTime=({h:e,m:n,s:o})=>{t(".nav-timer").forEach((t=>{t.innerText=`Timer: ${e}:${n}:${o}`}))},this.setTimerLargeTemplate=()=>{const t=e(".nav.navbar-nav");r({element:t,position:"afterbegin",html:'<li class="nav-item"   >\n    <p class="nav-timer" style= "color: #B2C0CC; font-weight: 500;   margin: 0; padding: 0.25rem 0.5rem 0.25rem 0"  >Timer: 00:00:00</p>\n    </li>'})},this.setTimerSmallTemplate=()=>{const t=e(".navbar");r({element:t,position:"beforeend",html:'<div class="nav-small-timer"  style=""  >\n    <p class="nav-timer" style= "color: #B2C0CC; font-weight: 500;   margin: 0; padding: 0.25rem 0.5rem 0.25rem 0"  >Timer: 00:00:00</p>\n    </div>'})},this.readySolve=()=>M(this,void 0,void 0,(function*(){const n=setInterval((()=>{const o=t("tr",e("table"));o&&(this.setProblemsEvent(o),clearInterval(n))}),1e3)})),this.setProblemsEvent=t=>{t.slice(1).forEach((t=>{const n=e("td.status.solved",t)?"solved":"unsolved",r=e("td.title",t).innerText,i=e("td.level",t).innerText,s=e("td.finished-count",t).innerText,c=e("td.acceptance-rate",t).innerText;o(t,"click",(()=>{a({Problem:{isSolved:n,title:r,level:i,finishedCount:s,acceptanceRate:c}})}))}))},this.startSolving=()=>M(this,void 0,void 0,(function*(){const{isTimer:e}=yield s("isTimer");e&&this.setProgrammersTimer(),this.setEvents()})),this.setEvents=()=>{const t=(e=>{const t=document.getElementById(e);if(!t)throw new Error(`${e}id를 가진 엘리먼트를 찾을 수 없습니다`);return t})("submit-code");o(t,"click",(()=>{const t=(new Date).getTime(),n=setInterval((()=>M(this,void 0,void 0,(function*(){const o=(new Date).getTime(),r=e(".modal-content");var a;if(r&&(a=".mark-programmers",document.querySelector(a)||this.startModalLoading(r)),r&&this.checkSuccess(r)){const e=yield this.parseCode();clearInterval(n);const{isUpload:t}=yield s("isUpload");t&&(yield(({directory:e,code:t,message:n,readMe:o,fileName:r})=>l(void 0,void 0,void 0,(function*(){const i=yield c(void 0,void 0,void 0,(function*(){const{USER:e}=yield s("USER"),{repoName:t}=yield s("repoName"),{GITHUB_TOKEN:n}=yield s("GITHUB_TOKEN"),o=`https://api.github.com/repos/${e}/${t}`;return(yield(yield fetch(o,{method:"get",headers:{Accept:"application/vnd.github+json",Authorization:`token ${n}`}})).json()).default_branch})),{refSHA:a,ref:l}=yield((e="main")=>c(void 0,void 0,void 0,(function*(){const{USER:t}=yield s("USER"),{repoName:n}=yield s("repoName"),{GITHUB_TOKEN:o}=yield s("GITHUB_TOKEN"),r=`https://api.github.com/repos/${t}/${n}/git/ref/heads/${e}`,i=yield(yield fetch(r,{method:"get",headers:{"Content-Type":"application/json",Accept:"application/vnd.github+json",Authorization:`token ${o}`}})).json();return{refSHA:i.object.sha,ref:i.ref}})))(i),f=yield d(t,r,e),h=yield d(o,"README.md",e),v=yield p(a,[f,h]),g=yield m(n,v,a);yield u(l,g)})))(e));const{ProgrammersTime:o}=yield s("ProgrammersTime"),a=Object.values(i(o,(new Date).getTime())).join(" : ");this.renderModalAfterSuccess(r,a)}o-t>=2e4&&(clearInterval(n),this.renderModalAfterFail(r))}))),1e3)}))},this.startModalLoading=t=>{e(".modal-body",t).insertAdjacentHTML("afterbegin",'\n      <div class="result-container" >\n      <span class="mark-programmers" >\n      <div id="solve-result-mark" class="loading-programmers"></div>\n      </span>\n      </div>\n      ')},this.renderModalAfterSuccess=(t,n)=>{const o=e("#solve-result-mark",t),r=e(".modal-body",t);n&&r.insertAdjacentHTML("beforeend",`<span  > 풀이시간: ${n}</span>`),o.className="success-solve"},this.renderModalAfterFail=t=>{e("#solve-result-mark",t).className="fail-solve"},this.checkSuccess=t=>!!e(".modal-title",t).innerText.includes("정답입니다"),this.parseCode=()=>M(this,void 0,void 0,(function*(){const t=window.location.href,n=e("div.main > div.lesson-content").getAttribute("data-lesson-id"),o=[...e("ol.breadcrumb").childNodes].map((e=>e)).filter((e=>"active"!==e.className)).map((e=>e.innerText)).reduce(((e,t)=>`${e}/${t}`)),r=e("div.guide-section-description > div.markdown").innerHTML,i=e("div.editor > ul > li.nav-item > a").innerText.split(".")[1];setTimeout((()=>{}),1e3);let a=e("textarea#code").innerText;const s=this.getResultMessage(),[c,l]=this.getTimeAndMemory();return this.makeFiles({link:t,problemId:n,division:o,problemDescription:r,languageExtension:i,resultMessage:s,code:a,avgTime:c,avgMemory:l})})),this.getResultMessage=()=>t(".console-message").map((e=>e.innerText)).filter((e=>e.includes(": "))).reduce(((e,t)=>`${e}<br/>${t}`),"")||"Empty",this.getTimeAndMemory=()=>t(".result.passed").map((e=>e.innerText)).map((e=>e.substring(e.indexOf("(")+1,e.indexOf(")")))).map((e=>e.split(", ").map((e=>e.includes("m")?e.substring(0,e.indexOf("m")):e.substring(0,e.indexOf("M")))))).reduce((([e,t],[n,o],r,i)=>r!==i.length-1?[e+=Number(n),t+=Number(o)]:[e/i.length,t/i.length]),[0,0]).map((e=>e.toFixed(2))),this.makeFiles=({link:t,problemId:n,division:o,problemDescription:r,languageExtension:i,resultMessage:a,code:c,avgTime:l,avgMemory:d})=>M(this,void 0,void 0,(function*(){const{level:p,isSolved:m,finishedCount:u,acceptanceRate:f}=yield s("Problem"),h=e("li.algorithm-title").innerText.replace(/\\n/g,"").trim();return{directory:`프로그래머스/${p}/${n}.${h}`.replace(" ",""),message:`[${p}] Title: ${h}, AvgTime: ${l}, AvgMemory: ${d}`,fileName:`${(e=>{const t={"!":"！","%":"％","&":"＆","(":"（",")":"）","*":"＊","+":"＋",",":"，","-":"－",".":"．","/":"／",":":"：",";":"；","<":"＜","=":"＝",">":"＞","?":"？","@":"＠","[":"［","\\":"＼","]":"］","^":"＾",_:"＿","`":"｀","{":"｛","|":"｜","}":"｝","~":"～"," ":" "};return e.replace(/[!%&()*+,\-./:;<=>?@\[\\\]^_`{|}~ ]/g,(e=>t[e]))})(h)}.${i}`,readMe:`# [${p}] ${h} - ${n} \n\n[문제 링크](${t}) \n\n### 성능 요약\n\n평균 메모리: ${d}MB, 평균 소요 시간: ${l}ms\n\n### 구분\n\n${o.replace("/"," > ")}\n\n### 채점결과\n\n${a}\n\n### 문제 설명\n\n${r}\n\n> 출처: 프로그래머스 코딩 테스트 연습, https://programmers.co.kr/learn/challenges`,code:c}})),this.init()}};window.location.href.includes("/learn/courses/30")&&window.location.href.includes("lessons")?O.startSolving():window.location.href.includes("challenges")&&O.readySolve()})()})();