(()=>{"use strict";const t=t=>{var e=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,[]);chrome.tabs.create(Object.assign({},e))};var e=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function c(t){try{l(i.next(t))}catch(t){r(t)}}function s(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}l((i=i.apply(t,e||[])).next())}))};new class{constructor(n){this.isLogined=!1,this.init=()=>e(this,void 0,void 0,(function*(){if(console.log(this.isLogined),this.isLogined){const n=setInterval((()=>e(this,void 0,void 0,(function*(){(yield("GITHUB_TOKEN",chrome.storage.local.get(["GITHUB_TOKEN"])))&&(t({url:"chrome-extension://hnebgpjnajdmkcncbgfahhnhaennabjb/home.html",active:!0}),this.element.innerHTML=this.getLoginedTemplate(),clearInterval(n))}))),1e3)}else this.element.innerHTML=this.getBasicTemplate(),this.setEvent(),console.log("토큰 없음")})),this.setEvent=()=>{const n=(t=>{const e=document.getElementById(t);if(!e)throw new Error(`${t}id를 가진 엘리먼트를 찾을 수 없습니다`);return e})("enroll");if(!n)throw new Error("enrollEl 엘리먼트를 찾지 못했습니다.");var i;i=()=>e(this,void 0,void 0,(function*(){t({url:"https://github.com/login/oauth/authorize?client_id=2f17ed4238f44ec245f1",active:!1}),this.isLogined=!0,this.init()})),n.addEventListener("click",i)},this.getLoginedTemplate=()=>"\n    <h1>PSHELPER</h1>\n    ",this.getBasicTemplate=()=>'\n    <h1>PSHELPER</h1>\n    <button id="enroll">Connect with GitHub</button>',this.element=n,this.init()}}(((t,e)=>{const n=document.querySelector(t);if(!n)throw new Error(`${t} element를 찾을 수 없습니다`);return n})("#root"))})();