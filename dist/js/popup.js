(()=>{"use strict";const t=t=>{var e=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]])}return n}(t,[]);chrome.tabs.create(Object.assign({},e))};var e=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{l(o.next(t))}catch(t){r(t)}}function s(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}l((o=o.apply(t,e||[])).next())}))};class n{constructor(n){this.isLogined=!1,this.init=()=>e(this,void 0,void 0,(function*(){if(console.log(this.isLogined),this.isLogined){const n=setInterval((()=>e(this,void 0,void 0,(function*(){(yield("GITHUB_TOKEN",chrome.storage.local.get(["GITHUB_TOKEN"])))&&(t({url:"chrome-extension://hnebgpjnajdmkcncbgfahhnhaennabjb/home.html",active:!0}),this.element.innerHTML=this.getLoginedTemplate(),clearInterval(n))}))),1e3)}else this.element.innerHTML=this.getBasicTemplate(),this.setEvent(),console.log("토큰 없음")})),this.setEvent=()=>{const n=(t=>{const e=document.getElementById(t);if(!e)throw new Error(`${t}id를 가진 엘리먼트를 찾을 수 없습니다`);return e})("enroll");if(!n)throw new Error("enrollEl 엘리먼트를 찾지 못했습니다.");var o;o=()=>e(this,void 0,void 0,(function*(){t({url:"https://github.com/login/oauth/authorize?client_id=2f17ed4238f44ec245f1",active:!1}),this.isLogined=!0,this.init()})),n.addEventListener("click",o)},this.getLoginedTemplate=()=>"\n    <h1>PSHELPER</h1>\n    ",this.getBasicTemplate=()=>'\n    <h1>PSHELPER</h1>\n    <button id="enroll">Connect with GitHub</button>',this.element=n,this.init()}}try{console.log("실행 중"),new n(((t,e)=>{const n=document.querySelector(t);if(!n)throw new Error(`${t} element를 찾을 수 없습니다`);return n})("#root"))}catch(t){console.log(t)}})();