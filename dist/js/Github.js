(()=>{"use strict";var t=function(t,n,e,o){return new(e||(e=Promise))((function(i,c){function r(t){try{u(o.next(t))}catch(t){c(t)}}function a(t){try{u(o.throw(t))}catch(t){c(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,a)}u((o=o.apply(t,n||[])).next())}))};!function(){var n,e,o,i;n=this,e=void 0,i=function*(){const n=new URL(window.location.href).searchParams.get("code");if(!n)throw new Error("Failed Get GITHUB Authorization Code ");try{const s=yield(u=n,t(void 0,void 0,void 0,(function*(){return yield(yield fetch("https://github.com/login/oauth/access_token",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({client_id:"2f17ed4238f44ec245f1",client_secret:"bce84d737913769ebb4a35297d0c0f67af6bead8",code:u})})).json()}))),f=yield(a=s.access_token,t(void 0,void 0,void 0,(function*(){return yield(yield fetch("https://api.github.com/user",{method:"get",headers:{"Content-Type":"application/json",authorization:`token ${a}`,Accept:"application/json"}})).json()})));s&&(yield(r={token:s.access_token,user:f,action:"PSHELPER_TOKEN"},e=void 0,o=void 0,i=void 0,c=function*(){var t=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e}(r,[]);return chrome.runtime.sendMessage(Object.assign({},t))},new(i||(i=Promise))((function(t,n){function r(t){try{u(c.next(t))}catch(t){n(t)}}function a(t){try{u(c.throw(t))}catch(t){n(t)}}function u(n){var e;n.done?t(n.value):(e=n.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}u((c=c.apply(e,o||[])).next())}))),window.close())}catch(t){throw t}var e,o,i,c,r,a,u},new((o=void 0)||(o=Promise))((function(t,c){function r(t){try{u(i.next(t))}catch(t){c(t)}}function a(t){try{u(i.throw(t))}catch(t){c(t)}}function u(n){var e;n.done?t(n.value):(e=n.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,a)}u((i=i.apply(n,e||[])).next())}))}()})();